{"ast":null,"code":"var _jsxFileName = \"D:\\\\Developer\\\\Personal\\\\Games\\\\Multiplayer-Blackjack\\\\client\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { supabase } from '../config/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [session, setSession] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [balance, setBalance] = useState(1000);\n  const [username, setUsername] = useState('');\n\n  // Generate guest username\n  const generateGuestUsername = () => {\n    const randomNum = Math.floor(Math.random() * 10000);\n    return `guest${randomNum}`;\n  };\n\n  // Initialize auth state\n  useEffect(() => {\n    // Check for existing session\n    supabase.auth.getSession().then(({\n      data: {\n        session\n      }\n    }) => {\n      var _session$user;\n      setSession(session);\n      setUser((_session$user = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user !== void 0 ? _session$user : null);\n      if (session !== null && session !== void 0 && session.user) {\n        loadUserBalance(session.user.id);\n        loadUsername(session.user.id);\n      } else {\n        // Guest mode\n        const guestUsername = generateGuestUsername();\n        setUsername(guestUsername);\n        setBalance(1000);\n      }\n      setLoading(false);\n    });\n\n    // Listen for auth changes\n    const {\n      data: {\n        subscription\n      }\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      var _session$user2;\n      setSession(session);\n      setUser((_session$user2 = session === null || session === void 0 ? void 0 : session.user) !== null && _session$user2 !== void 0 ? _session$user2 : null);\n      if (session !== null && session !== void 0 && session.user) {\n        loadUserBalance(session.user.id);\n        loadUsername(session.user.id);\n      } else {\n        // Guest mode\n        const guestUsername = generateGuestUsername();\n        setUsername(guestUsername);\n        setBalance(1000);\n      }\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n\n  // Load user balance from Supabase\n  const loadUserBalance = async userId => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('user_balances').select('balance').eq('user_id', userId).single();\n      if (error && error.code !== 'PGRST116') {\n        console.error('Error loading balance:', error);\n        setBalance(1000); // Default balance\n        return;\n      }\n      if (data) {\n        // If balance is 0 or less, reset to 1000\n        setBalance(data.balance > 0 ? data.balance : 1000);\n      } else {\n        // No record exists, create one with default balance\n        await createUserBalance(userId, 1000);\n        setBalance(1000);\n      }\n    } catch (error) {\n      console.error('Error loading balance:', error);\n      setBalance(1000);\n    }\n  };\n\n  // Load username from Supabase\n  const loadUsername = async userId => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('user_profiles').select('username').eq('user_id', userId).single();\n      if (error && error.code !== 'PGRST116') {\n        console.error('Error loading username:', error);\n        return;\n      }\n      if (data) {\n        setUsername(data.username);\n      }\n    } catch (error) {\n      console.error('Error loading username:', error);\n    }\n  };\n\n  // Create user balance record\n  const createUserBalance = async (userId, initialBalance = 1000) => {\n    try {\n      const {\n        error\n      } = await supabase.from('user_balances').insert({\n        user_id: userId,\n        balance: initialBalance,\n        updated_at: new Date().toISOString()\n      });\n      if (error) {\n        console.error('Error creating balance:', error);\n      }\n    } catch (error) {\n      console.error('Error creating balance:', error);\n    }\n  };\n\n  // Update user balance in Supabase\n  const updateBalance = async newBalance => {\n    if (!user) {\n      // Guest mode - just update local state\n      setBalance(newBalance);\n      return;\n    }\n    try {\n      // If balance is 0 or less, reset to 1000\n      const balanceToSave = newBalance > 0 ? newBalance : 1000;\n      const {\n        error\n      } = await supabase.from('user_balances').upsert({\n        user_id: user.id,\n        balance: balanceToSave,\n        updated_at: new Date().toISOString()\n      }, {\n        onConflict: 'user_id'\n      });\n      if (error) {\n        console.error('Error updating balance:', error);\n      } else {\n        setBalance(balanceToSave);\n      }\n    } catch (error) {\n      console.error('Error updating balance:', error);\n    }\n  };\n\n  // Sign up\n  const signUp = async (email, password, username) => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            username: username\n          }\n        }\n      });\n      if (error) throw error;\n\n      // Create user profile\n      if (data.user) {\n        await supabase.from('user_profiles').insert({\n          user_id: data.user.id,\n          username: username,\n          created_at: new Date().toISOString()\n        });\n\n        // Create balance record\n        await createUserBalance(data.user.id, 1000);\n        setUsername(username);\n      }\n      return {\n        data,\n        error: null\n      };\n    } catch (error) {\n      return {\n        data: null,\n        error\n      };\n    }\n  };\n\n  // Sign in\n  const signIn = async (email, password) => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) throw error;\n      if (data.user) {\n        await loadUserBalance(data.user.id);\n        await loadUsername(data.user.id);\n      }\n      return {\n        data,\n        error: null\n      };\n    } catch (error) {\n      return {\n        data: null,\n        error\n      };\n    }\n  };\n\n  // Sign out\n  const signOut = async () => {\n    try {\n      const {\n        error\n      } = await supabase.auth.signOut();\n      if (error) throw error;\n\n      // Reset to guest mode\n      const guestUsername = generateGuestUsername();\n      setUsername(guestUsername);\n      setBalance(1000);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  // Continue as guest\n  const continueAsGuest = () => {\n    const guestUsername = generateGuestUsername();\n    setUsername(guestUsername);\n    setBalance(1000);\n  };\n  const value = {\n    user,\n    session,\n    loading,\n    balance,\n    username,\n    setBalance: updateBalance,\n    signUp,\n    signIn,\n    signOut,\n    continueAsGuest,\n    isGuest: !user\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 10\n  }, this);\n};\n_s2(AuthProvider, \"wagTIdY9ehJetK+eGepWkg7MszI=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","supabase","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","user","setUser","session","setSession","loading","setLoading","balance","setBalance","username","setUsername","generateGuestUsername","randomNum","Math","floor","random","auth","getSession","then","data","_session$user","loadUserBalance","id","loadUsername","guestUsername","subscription","onAuthStateChange","_event","_session$user2","unsubscribe","userId","error","from","select","eq","single","code","console","createUserBalance","initialBalance","insert","user_id","updated_at","Date","toISOString","updateBalance","newBalance","balanceToSave","upsert","onConflict","signUp","email","password","options","created_at","signIn","signInWithPassword","signOut","continueAsGuest","value","isGuest","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Developer/Personal/Games/Multiplayer-Blackjack/client/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { supabase } from '../config/supabase';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [session, setSession] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [balance, setBalance] = useState(1000);\r\n  const [username, setUsername] = useState('');\r\n\r\n  // Generate guest username\r\n  const generateGuestUsername = () => {\r\n    const randomNum = Math.floor(Math.random() * 10000);\r\n    return `guest${randomNum}`;\r\n  };\r\n\r\n  // Initialize auth state\r\n  useEffect(() => {\r\n    // Check for existing session\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n      setUser(session?.user ?? null);\r\n      if (session?.user) {\r\n        loadUserBalance(session.user.id);\r\n        loadUsername(session.user.id);\r\n      } else {\r\n        // Guest mode\r\n        const guestUsername = generateGuestUsername();\r\n        setUsername(guestUsername);\r\n        setBalance(1000);\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    // Listen for auth changes\r\n    const {\r\n      data: { subscription },\r\n    } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n      setUser(session?.user ?? null);\r\n      if (session?.user) {\r\n        loadUserBalance(session.user.id);\r\n        loadUsername(session.user.id);\r\n      } else {\r\n        // Guest mode\r\n        const guestUsername = generateGuestUsername();\r\n        setUsername(guestUsername);\r\n        setBalance(1000);\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n  // Load user balance from Supabase\r\n  const loadUserBalance = async (userId) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_balances')\r\n        .select('balance')\r\n        .eq('user_id', userId)\r\n        .single();\r\n\r\n      if (error && error.code !== 'PGRST116') {\r\n        console.error('Error loading balance:', error);\r\n        setBalance(1000); // Default balance\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        // If balance is 0 or less, reset to 1000\r\n        setBalance(data.balance > 0 ? data.balance : 1000);\r\n      } else {\r\n        // No record exists, create one with default balance\r\n        await createUserBalance(userId, 1000);\r\n        setBalance(1000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading balance:', error);\r\n      setBalance(1000);\r\n    }\r\n  };\r\n\r\n  // Load username from Supabase\r\n  const loadUsername = async (userId) => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_profiles')\r\n        .select('username')\r\n        .eq('user_id', userId)\r\n        .single();\r\n\r\n      if (error && error.code !== 'PGRST116') {\r\n        console.error('Error loading username:', error);\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        setUsername(data.username);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading username:', error);\r\n    }\r\n  };\r\n\r\n  // Create user balance record\r\n  const createUserBalance = async (userId, initialBalance = 1000) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('user_balances')\r\n        .insert({\r\n          user_id: userId,\r\n          balance: initialBalance,\r\n          updated_at: new Date().toISOString()\r\n        });\r\n\r\n      if (error) {\r\n        console.error('Error creating balance:', error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating balance:', error);\r\n    }\r\n  };\r\n\r\n  // Update user balance in Supabase\r\n  const updateBalance = async (newBalance) => {\r\n    if (!user) {\r\n      // Guest mode - just update local state\r\n      setBalance(newBalance);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // If balance is 0 or less, reset to 1000\r\n      const balanceToSave = newBalance > 0 ? newBalance : 1000;\r\n\r\n      const { error } = await supabase\r\n        .from('user_balances')\r\n        .upsert({\r\n          user_id: user.id,\r\n          balance: balanceToSave,\r\n          updated_at: new Date().toISOString()\r\n        }, {\r\n          onConflict: 'user_id'\r\n        });\r\n\r\n      if (error) {\r\n        console.error('Error updating balance:', error);\r\n      } else {\r\n        setBalance(balanceToSave);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating balance:', error);\r\n    }\r\n  };\r\n\r\n  // Sign up\r\n  const signUp = async (email, password, username) => {\r\n    try {\r\n      const { data, error } = await supabase.auth.signUp({\r\n        email,\r\n        password,\r\n        options: {\r\n          data: {\r\n            username: username\r\n          }\r\n        }\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      // Create user profile\r\n      if (data.user) {\r\n        await supabase\r\n          .from('user_profiles')\r\n          .insert({\r\n            user_id: data.user.id,\r\n            username: username,\r\n            created_at: new Date().toISOString()\r\n          });\r\n\r\n        // Create balance record\r\n        await createUserBalance(data.user.id, 1000);\r\n        setUsername(username);\r\n      }\r\n\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error };\r\n    }\r\n  };\r\n\r\n  // Sign in\r\n  const signIn = async (email, password) => {\r\n    try {\r\n      const { data, error } = await supabase.auth.signInWithPassword({\r\n        email,\r\n        password,\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data.user) {\r\n        await loadUserBalance(data.user.id);\r\n        await loadUsername(data.user.id);\r\n      }\r\n\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error };\r\n    }\r\n  };\r\n\r\n  // Sign out\r\n  const signOut = async () => {\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n      \r\n      // Reset to guest mode\r\n      const guestUsername = generateGuestUsername();\r\n      setUsername(guestUsername);\r\n      setBalance(1000);\r\n    } catch (error) {\r\n      console.error('Error signing out:', error);\r\n    }\r\n  };\r\n\r\n  // Continue as guest\r\n  const continueAsGuest = () => {\r\n    const guestUsername = generateGuestUsername();\r\n    setUsername(guestUsername);\r\n    setBalance(1000);\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    session,\r\n    loading,\r\n    balance,\r\n    username,\r\n    setBalance: updateBalance,\r\n    signUp,\r\n    signIn,\r\n    signOut,\r\n    continueAsGuest,\r\n    isGuest: !user\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
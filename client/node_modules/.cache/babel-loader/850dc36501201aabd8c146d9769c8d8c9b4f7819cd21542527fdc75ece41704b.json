{"ast":null,"code":"import React from'react';import styled from'styled-components';import Card from'./Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DealerContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  max-width: 300px;\n`;const DealerTitle=styled.div`\n  font-size: 1.2rem;\n  font-weight: 600;\n  padding: 5px 15px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  border-radius: 20px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;const DealerScore=styled.span`\n  margin-left: 10px;\n  background-color: ${props=>props.$score>21?'#f44336':props.$score>=17?'#e2b714':'#4caf50'};\n  color: ${props=>props.$score>21?'white':props.$score>=17?'black':'white'};\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 0.9rem;\n`;const CardArea=styled.div`\n  display: flex;\n  justify-content: center;\n  min-height: 130px;\n  position: relative;\n`;const DealerStatus=styled.div`\n  margin-top: 5px;\n  font-size: 0.9rem;\n  color: #e2b714;\n`;const ScoreChip=styled.div`\n  position: absolute;\n  top: 45px;\n  right: -15px;\n  background-color: #2c2c44;\n  color: ${props=>props.$score>21?'#f44336':props.$score===21?'#e2b714':'white'};\n  border: 1px solid ${props=>props.$score>21?'#f44336':props.$score===21?'#e2b714':'#444'};\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  font-size: 0.9rem;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  z-index: 10;\n`;const DealerArea=_ref=>{let{dealer,gameState,currentTurn}=_ref;const{cards,score}=dealer;const isDealerTurn=currentTurn==='dealer';const showAllCards=gameState==='ended'||isDealerTurn;// Calculate visible score (only count visible cards)\nconst visibleScore=showAllCards?score:cards&&cards.length>0?calculateVisibleScore(cards):0;// Determine dealer status text\nconst getDealerStatus=()=>{if(showAllCards){if(score>21)return'Dealer busts!';if(score>=17)return'Dealer stands on '+score;return'Dealer hits';}return'Dealer stands on 17';};// Calculate score for visible cards only\n// In blackjack, aces can be worth 11 or 1, and we always choose the best value\nfunction calculateVisibleScore(cards){if(!cards||cards.length===0)return 0;// Only count the first card if second card is hidden\nconst visibleCards=showAllCards?cards:[cards[0]];let score=0;let aces=0;// First pass: Count all non-ace cards and count aces\nfor(const card of visibleCards){if(card.value==='ace'){aces++;// Start with ace as 11 (best case scenario)\nscore+=11;}else if(['king','queen','jack'].includes(card.value)){score+=10;}else{score+=parseInt(card.value);}}// Second pass: If we bust, convert aces from 11 to 1 (subtract 10 per ace)\n// This ensures we always get the best possible score without busting\nwhile(score>21&&aces>0){score-=10;// Convert one ace from 11 to 1\naces--;}return score;}return/*#__PURE__*/_jsxs(DealerContainer,{children:[/*#__PURE__*/_jsxs(DealerTitle,{children:[\"Dealer\",cards&&cards.length>0&&/*#__PURE__*/_jsx(DealerScore,{$score:visibleScore,children:visibleScore})]}),/*#__PURE__*/_jsxs(CardArea,{children:[cards&&cards.map((card,index)=>{// Hide the second card if game is still in progress and not dealer's turn\nconst isHidden=index===1&&!showAllCards;return/*#__PURE__*/_jsx(Card,{card:card,hidden:isHidden},index);}),cards&&cards.length>0&&showAllCards&&/*#__PURE__*/_jsx(ScoreChip,{$score:score,children:score})]}),/*#__PURE__*/_jsx(DealerStatus,{children:getDealerStatus()})]});};export default DealerArea;","map":{"version":3,"names":["React","styled","Card","jsx","_jsx","jsxs","_jsxs","DealerContainer","div","DealerTitle","DealerScore","span","props","$score","CardArea","DealerStatus","ScoreChip","DealerArea","_ref","dealer","gameState","currentTurn","cards","score","isDealerTurn","showAllCards","visibleScore","length","calculateVisibleScore","getDealerStatus","visibleCards","aces","card","value","includes","parseInt","children","map","index","isHidden","hidden"],"sources":["D:/Developer/Personal/Games/Multiplayer-Blackjack/client/src/components/DealerArea.js"],"sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Card from './Card';\r\n\r\nconst DealerContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 300px;\r\n`;\r\n\r\nconst DealerTitle = styled.div`\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  padding: 5px 15px;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  border-radius: 20px;\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst DealerScore = styled.span`\r\n  margin-left: 10px;\r\n  background-color: ${props => props.$score > 21 ? '#f44336' : props.$score >= 17 ? '#e2b714' : '#4caf50'};\r\n  color: ${props => props.$score > 21 ? 'white' : props.$score >= 17 ? 'black' : 'white'};\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst CardArea = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  min-height: 130px;\r\n  position: relative;\r\n`;\r\n\r\nconst DealerStatus = styled.div`\r\n  margin-top: 5px;\r\n  font-size: 0.9rem;\r\n  color: #e2b714;\r\n`;\r\n\r\nconst ScoreChip = styled.div`\r\n  position: absolute;\r\n  top: 45px;\r\n  right: -15px;\r\n  background-color: #2c2c44;\r\n  color: ${props => props.$score > 21 ? '#f44336' : props.$score === 21 ? '#e2b714' : 'white'};\r\n  border: 1px solid ${props => props.$score > 21 ? '#f44336' : props.$score === 21 ? '#e2b714' : '#444'};\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n  z-index: 10;\r\n`;\r\n\r\nconst DealerArea = ({ dealer, gameState, currentTurn }) => {\r\n  const { cards, score } = dealer;\r\n  const isDealerTurn = currentTurn === 'dealer';\r\n  const showAllCards = gameState === 'ended' || isDealerTurn;\r\n  \r\n  // Calculate visible score (only count visible cards)\r\n  const visibleScore = showAllCards ? score : \r\n    cards && cards.length > 0 ? calculateVisibleScore(cards) : 0;\r\n  \r\n  // Determine dealer status text\r\n  const getDealerStatus = () => {\r\n    if (showAllCards) {\r\n      if (score > 21) return 'Dealer busts!';\r\n      if (score >= 17) return 'Dealer stands on ' + score;\r\n      return 'Dealer hits';\r\n    }\r\n    return 'Dealer stands on 17';\r\n  };\r\n  \r\n  // Calculate score for visible cards only\r\n  // In blackjack, aces can be worth 11 or 1, and we always choose the best value\r\n  function calculateVisibleScore(cards) {\r\n    if (!cards || cards.length === 0) return 0;\r\n    \r\n    // Only count the first card if second card is hidden\r\n    const visibleCards = showAllCards ? cards : [cards[0]];\r\n    \r\n    let score = 0;\r\n    let aces = 0;\r\n    \r\n    // First pass: Count all non-ace cards and count aces\r\n    for (const card of visibleCards) {\r\n      if (card.value === 'ace') {\r\n        aces++;\r\n        // Start with ace as 11 (best case scenario)\r\n        score += 11;\r\n      } else if (['king', 'queen', 'jack'].includes(card.value)) {\r\n        score += 10;\r\n      } else {\r\n        score += parseInt(card.value);\r\n      }\r\n    }\r\n    \r\n    // Second pass: If we bust, convert aces from 11 to 1 (subtract 10 per ace)\r\n    // This ensures we always get the best possible score without busting\r\n    while (score > 21 && aces > 0) {\r\n      score -= 10; // Convert one ace from 11 to 1\r\n      aces--;\r\n    }\r\n    \r\n    return score;\r\n  }\r\n  \r\n  return (\r\n    <DealerContainer>\r\n      <DealerTitle>\r\n        Dealer\r\n        {cards && cards.length > 0 && (\r\n          <DealerScore $score={visibleScore}>{visibleScore}</DealerScore>\r\n        )}\r\n      </DealerTitle>\r\n      \r\n      <CardArea>\r\n        {cards && cards.map((card, index) => {\r\n          // Hide the second card if game is still in progress and not dealer's turn\r\n          const isHidden = index === 1 && !showAllCards;\r\n          return <Card key={index} card={card} hidden={isHidden} />;\r\n        })}\r\n        \r\n        {cards && cards.length > 0 && showAllCards && (\r\n          <ScoreChip $score={score}>{score}</ScoreChip>\r\n        )}\r\n      </CardArea>\r\n      \r\n      <DealerStatus>{getDealerStatus()}</DealerStatus>\r\n    </DealerContainer>\r\n  );\r\n};\r\n\r\nexport default DealerArea; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
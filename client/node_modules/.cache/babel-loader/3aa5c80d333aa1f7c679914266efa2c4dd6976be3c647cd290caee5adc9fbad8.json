{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect,useCallback}from'react';import{io}from'socket.io-client';import{useNavigate}from'react-router-dom';import{SOCKET_SERVER}from'../config';import{jsx as _jsx}from\"react/jsx-runtime\";export const GameContext=/*#__PURE__*/createContext();export const useGame=()=>useContext(GameContext);export const GameProvider=_ref=>{let{children}=_ref;const[socket,setSocket]=useState(null);const[connected,setConnected]=useState(false);const[username,setUsername]=useState('');const[balance,setBalance]=useState(1000);const[roomId,setRoomId]=useState(null);const[players,setPlayers]=useState([]);const[dealer,setDealer]=useState({cards:[],score:0});const[gameState,setGameState]=useState('waiting');const[currentTurn,setCurrentTurn]=useState(null);const[messages,setMessages]=useState([]);const[error,setError]=useState(null);const[gameHistory,setGameHistory]=useState([]);const[leaderboard,setLeaderboard]=useState([]);const[lastBet,setLastBet]=useState(0);const[hintsEnabled,setHintsEnabled]=useState(true);const[autoSkipNewRound,setAutoSkipNewRound]=useState(true);const navigate=useNavigate();// Helper function to add messages to the chat\nconst addMessage=message=>{setMessages(prevMessages=>[...prevMessages,message]);};// Define startNewRound function before it's used in useEffect\nconst startNewRound=useCallback(()=>{if(!connected){console.error(\"Cannot start new round: Not connected to server\");return;}if(!roomId){console.error(\"Cannot start new round: No room ID\");return;}if(!socket){console.error(\"Cannot start new round: Socket not initialized\");return;}console.log(`Emitting new_round event for room ${roomId}`);socket.emit('new_round',{roomId});},[connected,roomId,socket]);// Connect to socket server\nuseEffect(()=>{const newSocket=io(SOCKET_SERVER);newSocket.on('connect',()=>{setSocket(newSocket);setConnected(true);console.log('Connected to server');});newSocket.on('disconnect',()=>{setConnected(false);console.log('Disconnected from server');});newSocket.on('error',data=>{console.error('Socket error event:',data);setError(data.message);setTimeout(()=>setError(null),5000);});// Listen for all socket events for debugging\nnewSocket.onAny(function(eventName){if(eventName==='kick_player'||eventName==='error'||eventName.includes('kick')){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}console.log('Socket event received:',eventName,args);}});return()=>{newSocket.disconnect();};},[]);// Handle room events\nuseEffect(()=>{if(!socket)return;socket.on('room_joined',data=>{if(!data)return;setRoomId(data.roomId);setPlayers(data.players||[]);setGameState(data.gameState||'waiting');setError(null);// Add system message\nconst playerNames=data.players?data.players.map(p=>p.username).join(', '):'';addMessage({content:`Room joined. Current players: ${playerNames}`,type:'system',timestamp:Date.now()});// Navigate to game room after successful join\nnavigate('/game-room');});socket.on('player_joined',data=>{if(!data||!data.players)return;setPlayers(data.players);// Add system message about new player\nconst newPlayer=data.players[data.players.length-1];if(newPlayer){addMessage({content:`${newPlayer.username} joined the room`,type:'system',timestamp:Date.now()});}});socket.on('player_left',data=>{if(!data)return;setPlayers(data.players||[]);// Add system message about player leaving\nif(data.leftPlayer){addMessage({content:`${data.leftPlayer} left the room`,type:'system',timestamp:Date.now()});}});socket.on('player_kicked',data=>{if(!data)return;setPlayers(data.players||[]);// Add system message about player being kicked\nif(data.kickedPlayer){addMessage({content:`${data.kickedPlayer} was kicked from the room`,type:'system',timestamp:Date.now()});}});return()=>{socket.off('room_joined');socket.off('player_joined');socket.off('player_left');socket.off('player_kicked');};},[socket,navigate]);// Handle being kicked from room\nuseEffect(()=>{if(!socket)return;const handleKicked=data=>{// Current player was kicked\nsetError(data.message||'You have been kicked from the room');// Clear room state\nsetRoomId(null);setPlayers([]);setDealer({cards:[],score:0});setGameState('waiting');setCurrentTurn(null);setMessages([]);// Navigate to home\nnavigate('/');};socket.on('kicked',handleKicked);return()=>{socket.off('kicked',handleKicked);};},[socket,navigate]);// Handle game events\nuseEffect(()=>{if(!socket)return;socket.on('game_started',data=>{if(!data)return;setGameState('betting');setDealer(data.dealer||{cards:[],score:0});setPlayers(data.players||[]);addMessage({content:'Game started! Place your bets.',type:'system',timestamp:Date.now()});});socket.on('betting_ended',data=>{if(!data)return;setPlayers(data.players||[]);setGameState('playing');addMessage({content:'All bets placed. Game is starting...',type:'system',timestamp:Date.now()});});socket.on('player_bet_placed',data=>{var _data$players,_data$players2;if(!data)return;console.log('ðŸ’° [player_bet_placed] Received bet update:',{playerId:data.playerId,username:data.username,bet:data.bet,playersCount:(_data$players=data.players)===null||_data$players===void 0?void 0:_data$players.length,allPlayers:(_data$players2=data.players)===null||_data$players2===void 0?void 0:_data$players2.map(p=>({username:p.username,bet:p.bet,balance:p.balance}))});// Update players array with the new bet information\nif(data.players&&Array.isArray(data.players)){console.log('ðŸ’° [player_bet_placed] Setting players array to:',data.players.map(p=>({username:p.username,bet:p.bet,balance:p.balance})));setPlayers([...data.players]);// Create new array to ensure React detects change\n}// Update balance if it's the current player\nif(data.playerId===socket.id&&data.balance!==undefined){setBalance(data.balance);}});socket.on('bet_placed',data=>{if(!data)return;// Update balance when current player places bet\nif(data.balance!==undefined){setBalance(data.balance);}});socket.on('player_turn',data=>{setCurrentTurn(data.playerId);setPlayers(data.players||players);const player=data.players&&data.players.find(p=>p.id===data.playerId);addMessage({content:`It's ${player?player.username:'unknown player'}'s turn`,type:'system',timestamp:Date.now()});});socket.on('player_auto_skipped',data=>{if(!data)return;setPlayers(data.players||players);setCurrentTurn(null);const player=data.players&&data.players.find(p=>p.id===data.playerId);addMessage({content:`${player?player.username:'A player'} was automatically skipped (30 seconds elapsed)`,type:'system',timestamp:Date.now()});});socket.on('card_dealt',data=>{if(!data)return;if(data.to==='dealer'){setDealer(data.dealer||{cards:[],score:0});}else if(data.to&&data.cards){setPlayers(prev=>prev.map(player=>player.id===data.to?{...player,cards:data.cards,score:data.score||0}:player));}});socket.on('turn_ended',data=>{if(!data)return;setCurrentTurn(data.nextTurn);setPlayers(data.players||[]);});socket.on('dealer_turn',()=>{setCurrentTurn('dealer');addMessage({content:`Dealer's turn`,type:'system',timestamp:Date.now()});});socket.on('game_reset',data=>{var _data$players3;console.log('ðŸŽ®ðŸŽ®ðŸŽ® GAME_RESET EVENT RECEIVED ðŸŽ®ðŸŽ®ðŸŽ®');console.log('Game reset data:',data);if(!data){console.error('âŒ No data in game_reset event');return;}console.log('Setting game state to waiting...');setGameState('waiting');setDealer({cards:[],score:0});setCurrentTurn(null);console.log('Updating players:',data.players);setPlayers(data.players||[]);// Update balance for current player\nconst currentPlayer=(_data$players3=data.players)===null||_data$players3===void 0?void 0:_data$players3.find(p=>p.id===socket.id);console.log('Current player in reset data:',currentPlayer);if(currentPlayer){console.log(`Updating balance: ${currentPlayer.balance}`);setBalance(currentPlayer.balance);}else{console.warn('âš ï¸ Current player not found in reset data');}// Add system message\naddMessage({content:data.message||'Game has been reset! Everyone starts with $1000 again.',type:'system',timestamp:Date.now()});console.log('âœ… Game reset complete!');});socket.on('game_ended',data=>{var _data$result,_players$;if(!data)return;setGameState('ended');setDealer(data.dealer||{cards:[],score:0});setPlayers(data.players||[]);setCurrentTurn(null);// Update game history\nconst historyEntry={id:Date.now(),dealer:data.dealer,players:data.players,results:((_data$result=data.result)===null||_data$result===void 0?void 0:_data$result.results)||[],timestamp:Date.now()};setGameHistory(prev=>[historyEntry,...prev].slice(0,10));// Add system message\nlet resultMessage='Round ended. Check your results!';if(data.result&&data.result.results){const resultSummary=data.result.results.map(r=>`${r.username}: ${r.outcome} (${r.amountChange>=0?'+':''}${r.amountChange})`).join(', ');resultMessage=`Round ended. Results: ${resultSummary}`;}addMessage({content:resultMessage,type:'system',timestamp:Date.now()});// If host has auto-next round enabled, automatically start a new round immediately\nif(autoSkipNewRound&&socket.id===((_players$=players[0])===null||_players$===void 0?void 0:_players$.id)){var _players$2;console.log(\"Auto next round enabled, starting new round immediately\");console.log(\"Current socket ID:\",socket.id);console.log(\"Host ID (players[0].id):\",(_players$2=players[0])===null||_players$2===void 0?void 0:_players$2.id);console.log(\"autoSkipNewRound value:\",autoSkipNewRound);startNewRound();}else{var _players$3,_players$4;console.log(\"Auto next round not triggered because:\");console.log(\"- autoSkipNewRound:\",autoSkipNewRound);console.log(\"- Is current player the host:\",socket.id===((_players$3=players[0])===null||_players$3===void 0?void 0:_players$3.id));console.log(\"- Current socket ID:\",socket.id);console.log(\"- Host ID (players[0].id):\",(_players$4=players[0])===null||_players$4===void 0?void 0:_players$4.id);}});socket.on('new_round',data=>{var _data$players4,_data$players5;if(!data)return;console.log('ðŸ”„ [new_round] Received new round event:',{playersCount:(_data$players4=data.players)===null||_data$players4===void 0?void 0:_data$players4.length,players:(_data$players5=data.players)===null||_data$players5===void 0?void 0:_data$players5.map(p=>({username:p.username,bet:p.bet,balance:p.balance}))});setGameState('betting');// Update players array - bets should be 0 at start of new round\nif(data.players&&Array.isArray(data.players)){setPlayers(data.players);}setDealer(data.dealer||{cards:[],score:0});// Add system message\n// Only mention manual start if auto-skip is disabled\nconst manualStartMessage=data.isAutoSkip===false?' (Manual start by host)':'';addMessage({content:`New round started${manualStartMessage}. Place your bets!`,type:'system',timestamp:Date.now()});});socket.on('message',data=>{addMessage(data);});socket.on('leaderboard_updated',data=>{setLeaderboard(data.leaderboard);});socket.on('player_split',data=>{var _data$players$find;if(!data)return;setPlayers(data.players||[]);addMessage({content:`${((_data$players$find=data.players.find(p=>p.id===data.playerId))===null||_data$players$find===void 0?void 0:_data$players$find.username)||'Player'} split their hand`,type:'system',timestamp:Date.now()});});// Handle player spectating event\nsocket.on('player_spectating',data=>{if(!data)return;// Update the player's status in the players array\nsetPlayers(prev=>prev.map(player=>player.id===data.playerId?{...player,status:'spectating'}:player));addMessage({content:`${data.username} is now spectating the game`,type:'system',timestamp:Date.now()});console.log(`Player ${data.username} is now spectating`);});return()=>{socket.off('game_started');socket.off('betting_ended');socket.off('player_bet_placed');socket.off('bet_placed');socket.off('card_dealt');socket.off('player_turn');socket.off('turn_ended');socket.off('dealer_turn');socket.off('game_ended');socket.off('game_reset');socket.off('new_round');socket.off('message');socket.off('leaderboard_updated');socket.off('player_split');socket.off('player_spectating');};},[socket,autoSkipNewRound,players,startNewRound]);// Game actions\nconst createRoom=function(username){let initialBalance=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1000;if(!connected)return;setUsername(username);setBalance(initialBalance);socket.emit('create_room',{username,balance:initialBalance});};const joinRoom=function(roomId,username){let initialBalance=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;if(!connected)return;setUsername(username);setBalance(initialBalance);socket.emit('join_room',{roomId,username,balance:initialBalance});};const startGame=()=>{if(!connected||!roomId)return;socket.emit('start_game',{roomId});};const placeBet=amount=>{if(!connected||!roomId)return;console.log('ðŸ’° [placeBet] Placing bet:',{amount,roomId,socketId:socket.id});// Optimistically update the local player's bet immediately\nsetPlayers(prevPlayers=>{const updated=prevPlayers.map(p=>{if(p.id===socket.id){console.log('ðŸ’° [placeBet] Updating local player bet:',{username:p.username,oldBet:p.bet,newBet:amount});return{...p,bet:amount,balance:p.balance-amount};}return p;});console.log('ðŸ’° [placeBet] Updated players array:',updated.map(p=>({username:p.username,bet:p.bet})));return updated;});socket.emit('place_bet',{roomId,amount});setLastBet(amount);};const hit=()=>{if(!connected||!roomId)return;// For split hands, we need to use the original player's socket ID\nif(currentTurn&&currentTurn.includes('-split')){const originalPlayerId=currentTurn.split('-')[0];if(originalPlayerId===socket.id){socket.emit('hit',{roomId,handId:currentTurn});}}else if(currentTurn===socket.id){socket.emit('hit',{roomId});}};const stand=()=>{if(!connected||!roomId)return;// For split hands, we need to use the original player's socket ID\nif(currentTurn&&currentTurn.includes('-split')){const originalPlayerId=currentTurn.split('-')[0];if(originalPlayerId===socket.id){socket.emit('stand',{roomId,handId:currentTurn});}}else if(currentTurn===socket.id){socket.emit('stand',{roomId});}};const doubleDown=()=>{if(!connected||!roomId)return;// For split hands, we need to use the original player's socket ID\nif(currentTurn&&currentTurn.includes('-split')){const originalPlayerId=currentTurn.split('-')[0];if(originalPlayerId===socket.id){socket.emit('double_down',{roomId,handId:currentTurn});}}else if(currentTurn===socket.id){socket.emit('double_down',{roomId});}};const split=()=>{if(!connected||!roomId||currentTurn!==socket.id)return;// Can't split a split hand\nif(currentTurn.includes('-split'))return;socket.emit('split',{roomId});};const surrender=()=>{if(!connected||!roomId)return;// For split hands, we need to use the original player's socket ID\nif(currentTurn&&currentTurn.includes('-split')){const originalPlayerId=currentTurn.split('-')[0];if(originalPlayerId===socket.id){socket.emit('surrender',{roomId,handId:currentTurn});}}else if(currentTurn===socket.id){socket.emit('surrender',{roomId});}};const sendMessage=message=>{if(!connected||!roomId)return;socket.emit('send_message',{roomId,message,sender:username});};const leaveRoom=()=>{if(!connected||!roomId)return;socket.emit('leave_room',{roomId});setRoomId(null);setPlayers([]);setDealer({cards:[],score:0});setGameState('waiting');setCurrentTurn(null);setMessages([]);};const kickPlayer=playerId=>{if(!connected||!roomId){console.error('Cannot kick player: not connected or no roomId',{connected,roomId});return;}if(!socket){console.error('Cannot kick player: socket not available');return;}console.log('=== KICK ATTEMPT ===');console.log('RoomId:',roomId);console.log('PlayerId to kick:',playerId);console.log('Socket ID:',socket.id);console.log('Socket connected?',socket.connected);console.log('Socket active?',socket.active);// Verify socket is connected before emitting\nif(!socket.connected){console.error('âŒ Socket is not connected!');return;}// Test if socket can emit at all\nconsole.log('Testing socket connection...');socket.emit('ping',{test:'connection'});// Emit the kick event\nconsole.log('Emitting kick_player event...');const eventData={roomId,playerId};console.log('Event data:',eventData);socket.emit('kick_player',eventData);console.log('Event emitted, waiting for response...');// Listen for error response\nconst errorTimeout=setTimeout(()=>{console.warn('âš ï¸ No response from server after 2 seconds');},2000);socket.once('error',error=>{clearTimeout(errorTimeout);console.error('âŒ Socket error during kick:',error);});socket.once('player_kicked',data=>{clearTimeout(errorTimeout);console.log('âœ… Kick successful:',data);});};// Restart game - reset all players' balances to 1000\nconst restartGame=()=>{console.log('=== RESTART GAME CALLED ===');console.log('Connected:',connected);console.log('RoomId:',roomId);console.log('Socket:',socket===null||socket===void 0?void 0:socket.id);console.log('Socket connected?',socket===null||socket===void 0?void 0:socket.connected);if(!connected||!roomId){console.error('Cannot restart game: not connected or no roomId',{connected,roomId});alert('Error: Not connected or no room ID. Please refresh the page.');return;}if(!socket){console.error('Cannot restart game: socket not available');alert('Error: Socket not available. Please refresh the page.');return;}if(!socket.connected){console.error('Socket is not connected!');alert('Error: Not connected to server. Please refresh the page.');return;}console.log('âœ… Emitting restart_game event for room:',roomId);console.log('Event payload:',{roomId});// Emit the restart event\nsocket.emit('restart_game',{roomId},response=>{// Callback for acknowledgment (if server supports it)\nconsole.log('Server response:',response);});// Listen for error response\nsocket.once('error',error=>{console.error('âŒ Error restarting game:',error);if(error&&error.message){alert(`Error: ${error.message}`);}else if(error){alert(`Error: ${JSON.stringify(error)}`);}});// Also listen for any response after a short delay\nsetTimeout(()=>{console.log('Checking if game_reset was received...');},1000);};// Check if it's current player's turn\nconst isPlayerTurn=()=>{if(!socket||!currentTurn)return false;// Direct match with player's socket ID\nif(currentTurn===socket.id)return true;// Check if it's the player's split hand turn\n// Split hands have IDs in the format: originalPlayerId-split\nif(currentTurn.includes('-split')){const originalPlayerId=currentTurn.split('-')[0];return originalPlayerId===socket.id;}return false;};// Find the current player\nconst getCurrentPlayer=()=>{if(!socket||!players)return null;// First check for the player's main hand\nconst player=players.find(p=>p.id===socket.id);// If it's the player's split hand turn, return that hand instead\nif(currentTurn&&currentTurn.includes('-split')){const splitHand=players.find(p=>p.id===currentTurn);if(splitHand&&splitHand.originalPlayer===socket.id){return splitHand;}}return player;};// Toggle hints\nconst toggleHints=()=>{setHintsEnabled(prev=>!prev);};return/*#__PURE__*/_jsx(GameContext.Provider,{value:{connected,username,balance,roomId,players,dealer,gameState,currentTurn,messages,error,gameHistory,leaderboard,lastBet,hintsEnabled,autoSkipNewRound,createRoom,joinRoom,startGame,placeBet,hit,stand,doubleDown,split,surrender,startNewRound,sendMessage,leaveRoom,kickPlayer,restartGame,isPlayerTurn,getCurrentPlayer,toggleHints,setAutoSkipNewRound,socket},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","io","useNavigate","SOCKET_SERVER","jsx","_jsx","GameContext","useGame","GameProvider","_ref","children","socket","setSocket","connected","setConnected","username","setUsername","balance","setBalance","roomId","setRoomId","players","setPlayers","dealer","setDealer","cards","score","gameState","setGameState","currentTurn","setCurrentTurn","messages","setMessages","error","setError","gameHistory","setGameHistory","leaderboard","setLeaderboard","lastBet","setLastBet","hintsEnabled","setHintsEnabled","autoSkipNewRound","setAutoSkipNewRound","navigate","addMessage","message","prevMessages","startNewRound","console","log","emit","newSocket","on","data","setTimeout","onAny","eventName","includes","_len","arguments","length","args","Array","_key","disconnect","playerNames","map","p","join","content","type","timestamp","Date","now","newPlayer","leftPlayer","kickedPlayer","off","handleKicked","_data$players","_data$players2","playerId","bet","playersCount","allPlayers","isArray","id","undefined","player","find","to","prev","nextTurn","_data$players3","currentPlayer","warn","_data$result","_players$","historyEntry","results","result","slice","resultMessage","resultSummary","r","outcome","amountChange","_players$2","_players$3","_players$4","_data$players4","_data$players5","manualStartMessage","isAutoSkip","_data$players$find","status","createRoom","initialBalance","joinRoom","startGame","placeBet","amount","socketId","prevPlayers","updated","oldBet","newBet","hit","originalPlayerId","split","handId","stand","doubleDown","surrender","sendMessage","sender","leaveRoom","kickPlayer","active","test","eventData","errorTimeout","once","clearTimeout","restartGame","alert","response","JSON","stringify","isPlayerTurn","getCurrentPlayer","splitHand","originalPlayer","toggleHints","Provider","value"],"sources":["D:/Developer/Personal/Games/Multiplayer-Blackjack/client/src/contexts/GameContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { SOCKET_SERVER } from '../config';\r\n\r\nexport const GameContext = createContext();\r\n\r\nexport const useGame = () => useContext(GameContext);\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [connected, setConnected] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [balance, setBalance] = useState(1000);\r\n  const [roomId, setRoomId] = useState(null);\r\n  const [players, setPlayers] = useState([]);\r\n  const [dealer, setDealer] = useState({ cards: [], score: 0 });\r\n  const [gameState, setGameState] = useState('waiting');\r\n  const [currentTurn, setCurrentTurn] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [gameHistory, setGameHistory] = useState([]);\r\n  const [leaderboard, setLeaderboard] = useState([]);\r\n  const [lastBet, setLastBet] = useState(0);\r\n  const [hintsEnabled, setHintsEnabled] = useState(true);\r\n  const [autoSkipNewRound, setAutoSkipNewRound] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  // Helper function to add messages to the chat\r\n  const addMessage = (message) => {\r\n    setMessages(prevMessages => [...prevMessages, message]);\r\n  };\r\n\r\n  // Define startNewRound function before it's used in useEffect\r\n  const startNewRound = useCallback(() => {\r\n    if (!connected) {\r\n      console.error(\"Cannot start new round: Not connected to server\");\r\n      return;\r\n    }\r\n    \r\n    if (!roomId) {\r\n      console.error(\"Cannot start new round: No room ID\");\r\n      return;\r\n    }\r\n    \r\n    if (!socket) {\r\n      console.error(\"Cannot start new round: Socket not initialized\");\r\n      return;\r\n    }\r\n    \r\n    console.log(`Emitting new_round event for room ${roomId}`);\r\n    socket.emit('new_round', { roomId });\r\n  }, [connected, roomId, socket]);\r\n\r\n  // Connect to socket server\r\n  useEffect(() => {\r\n    const newSocket = io(SOCKET_SERVER);\r\n    \r\n    newSocket.on('connect', () => {\r\n      setSocket(newSocket);\r\n      setConnected(true);\r\n      console.log('Connected to server');\r\n    });\r\n    \r\n    newSocket.on('disconnect', () => {\r\n      setConnected(false);\r\n      console.log('Disconnected from server');\r\n    });\r\n    \r\n    newSocket.on('error', (data) => {\r\n      console.error('Socket error event:', data);\r\n      setError(data.message);\r\n      setTimeout(() => setError(null), 5000);\r\n    });\r\n    \r\n    // Listen for all socket events for debugging\r\n    newSocket.onAny((eventName, ...args) => {\r\n      if (eventName === 'kick_player' || eventName === 'error' || eventName.includes('kick')) {\r\n        console.log('Socket event received:', eventName, args);\r\n      }\r\n    });\r\n    \r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, []);\r\n  \r\n  // Handle room events\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    socket.on('room_joined', (data) => {\r\n      if (!data) return;\r\n      setRoomId(data.roomId);\r\n      setPlayers(data.players || []);\r\n      setGameState(data.gameState || 'waiting');\r\n      setError(null);\r\n      \r\n      // Add system message\r\n      const playerNames = data.players ? data.players.map(p => p.username).join(', ') : '';\r\n      addMessage({\r\n        content: `Room joined. Current players: ${playerNames}`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n\r\n      // Navigate to game room after successful join\r\n      navigate('/game-room');\r\n    });\r\n    \r\n    socket.on('player_joined', (data) => {\r\n      if (!data || !data.players) return;\r\n      setPlayers(data.players);\r\n      \r\n      // Add system message about new player\r\n      const newPlayer = data.players[data.players.length - 1];\r\n      if (newPlayer) {\r\n        addMessage({\r\n          content: `${newPlayer.username} joined the room`,\r\n          type: 'system',\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n    });\r\n    \r\n    socket.on('player_left', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      \r\n      // Add system message about player leaving\r\n      if (data.leftPlayer) {\r\n        addMessage({\r\n          content: `${data.leftPlayer} left the room`,\r\n          type: 'system',\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n    });\r\n    \r\n    socket.on('player_kicked', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      \r\n      // Add system message about player being kicked\r\n      if (data.kickedPlayer) {\r\n        addMessage({\r\n          content: `${data.kickedPlayer} was kicked from the room`,\r\n          type: 'system',\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n    });\r\n    \r\n    return () => {\r\n      socket.off('room_joined');\r\n      socket.off('player_joined');\r\n      socket.off('player_left');\r\n      socket.off('player_kicked');\r\n    };\r\n  }, [socket, navigate]);\r\n  \r\n  // Handle being kicked from room\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    const handleKicked = (data) => {\r\n      // Current player was kicked\r\n      setError(data.message || 'You have been kicked from the room');\r\n      // Clear room state\r\n      setRoomId(null);\r\n      setPlayers([]);\r\n      setDealer({ cards: [], score: 0 });\r\n      setGameState('waiting');\r\n      setCurrentTurn(null);\r\n      setMessages([]);\r\n      // Navigate to home\r\n      navigate('/');\r\n    };\r\n    \r\n    socket.on('kicked', handleKicked);\r\n    \r\n    return () => {\r\n      socket.off('kicked', handleKicked);\r\n    };\r\n  }, [socket, navigate]);\r\n  \r\n  // Handle game events\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    socket.on('game_started', (data) => {\r\n      if (!data) return;\r\n      setGameState('betting');\r\n      setDealer(data.dealer || { cards: [], score: 0 });\r\n      setPlayers(data.players || []);\r\n      \r\n      addMessage({\r\n        content: 'Game started! Place your bets.',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('betting_ended', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      setGameState('playing');\r\n      \r\n      addMessage({\r\n        content: 'All bets placed. Game is starting...',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('player_bet_placed', (data) => {\r\n      if (!data) return;\r\n      console.log('ðŸ’° [player_bet_placed] Received bet update:', {\r\n        playerId: data.playerId,\r\n        username: data.username,\r\n        bet: data.bet,\r\n        playersCount: data.players?.length,\r\n        allPlayers: data.players?.map(p => ({ username: p.username, bet: p.bet, balance: p.balance }))\r\n      });\r\n      \r\n      // Update players array with the new bet information\r\n      if (data.players && Array.isArray(data.players)) {\r\n        console.log('ðŸ’° [player_bet_placed] Setting players array to:', data.players.map(p => ({\r\n          username: p.username,\r\n          bet: p.bet,\r\n          balance: p.balance\r\n        })));\r\n        setPlayers([...data.players]); // Create new array to ensure React detects change\r\n      }\r\n      \r\n      // Update balance if it's the current player\r\n      if (data.playerId === socket.id && data.balance !== undefined) {\r\n        setBalance(data.balance);\r\n      }\r\n    });\r\n    \r\n    socket.on('bet_placed', (data) => {\r\n      if (!data) return;\r\n      // Update balance when current player places bet\r\n      if (data.balance !== undefined) {\r\n        setBalance(data.balance);\r\n      }\r\n    });\r\n    \r\n    socket.on('player_turn', (data) => {\r\n      setCurrentTurn(data.playerId);\r\n      setPlayers(data.players || players);\r\n      \r\n      const player = data.players && data.players.find(p => p.id === data.playerId);\r\n      \r\n      addMessage({\r\n        content: `It's ${player ? player.username : 'unknown player'}'s turn`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('player_auto_skipped', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || players);\r\n      setCurrentTurn(null);\r\n      \r\n      const player = data.players && data.players.find(p => p.id === data.playerId);\r\n      \r\n      addMessage({\r\n        content: `${player ? player.username : 'A player'} was automatically skipped (30 seconds elapsed)`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('card_dealt', (data) => {\r\n      if (!data) return;\r\n      if (data.to === 'dealer') {\r\n        setDealer(data.dealer || { cards: [], score: 0 });\r\n      } else if (data.to && data.cards) {\r\n        setPlayers(prev => \r\n          prev.map(player => \r\n            player.id === data.to ? { ...player, cards: data.cards, score: data.score || 0 } : player\r\n          )\r\n        );\r\n      }\r\n    });\r\n    \r\n    socket.on('turn_ended', (data) => {\r\n      if (!data) return;\r\n      setCurrentTurn(data.nextTurn);\r\n      setPlayers(data.players || []);\r\n    });\r\n    \r\n    socket.on('dealer_turn', () => {\r\n      setCurrentTurn('dealer');\r\n      \r\n      addMessage({\r\n        content: `Dealer's turn`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('game_reset', (data) => {\r\n      console.log('ðŸŽ®ðŸŽ®ðŸŽ® GAME_RESET EVENT RECEIVED ðŸŽ®ðŸŽ®ðŸŽ®');\r\n      console.log('Game reset data:', data);\r\n      \r\n      if (!data) {\r\n        console.error('âŒ No data in game_reset event');\r\n        return;\r\n      }\r\n      \r\n      console.log('Setting game state to waiting...');\r\n      setGameState('waiting');\r\n      setDealer({ cards: [], score: 0 });\r\n      setCurrentTurn(null);\r\n      \r\n      console.log('Updating players:', data.players);\r\n      setPlayers(data.players || []);\r\n      \r\n      // Update balance for current player\r\n      const currentPlayer = data.players?.find(p => p.id === socket.id);\r\n      console.log('Current player in reset data:', currentPlayer);\r\n      if (currentPlayer) {\r\n        console.log(`Updating balance: ${currentPlayer.balance}`);\r\n        setBalance(currentPlayer.balance);\r\n      } else {\r\n        console.warn('âš ï¸ Current player not found in reset data');\r\n      }\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: data.message || 'Game has been reset! Everyone starts with $1000 again.',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      console.log('âœ… Game reset complete!');\r\n    });\r\n    \r\n    socket.on('game_ended', (data) => {\r\n      if (!data) return;\r\n      setGameState('ended');\r\n      setDealer(data.dealer || { cards: [], score: 0 });\r\n      setPlayers(data.players || []);\r\n      setCurrentTurn(null);\r\n      \r\n      // Update game history\r\n      const historyEntry = {\r\n        id: Date.now(),\r\n        dealer: data.dealer,\r\n        players: data.players,\r\n        results: data.result?.results || [],\r\n        timestamp: Date.now()\r\n      };\r\n      setGameHistory(prev => [historyEntry, ...prev].slice(0, 10));\r\n      \r\n      // Add system message\r\n      let resultMessage = 'Round ended. Check your results!';\r\n      if (data.result && data.result.results) {\r\n        const resultSummary = data.result.results\r\n          .map(r => `${r.username}: ${r.outcome} (${r.amountChange >= 0 ? '+' : ''}${r.amountChange})`)\r\n          .join(', ');\r\n        resultMessage = `Round ended. Results: ${resultSummary}`;\r\n      }\r\n      \r\n      addMessage({\r\n        content: resultMessage,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      // If host has auto-next round enabled, automatically start a new round immediately\r\n      if (autoSkipNewRound && socket.id === players[0]?.id) {\r\n        console.log(\"Auto next round enabled, starting new round immediately\");\r\n        console.log(\"Current socket ID:\", socket.id);\r\n        console.log(\"Host ID (players[0].id):\", players[0]?.id);\r\n        console.log(\"autoSkipNewRound value:\", autoSkipNewRound);\r\n        startNewRound();\r\n      } else {\r\n        console.log(\"Auto next round not triggered because:\");\r\n        console.log(\"- autoSkipNewRound:\", autoSkipNewRound);\r\n        console.log(\"- Is current player the host:\", socket.id === players[0]?.id);\r\n        console.log(\"- Current socket ID:\", socket.id);\r\n        console.log(\"- Host ID (players[0].id):\", players[0]?.id);\r\n      }\r\n    });\r\n    \r\n    socket.on('new_round', (data) => {\r\n      if (!data) return;\r\n      console.log('ðŸ”„ [new_round] Received new round event:', {\r\n        playersCount: data.players?.length,\r\n        players: data.players?.map(p => ({ username: p.username, bet: p.bet, balance: p.balance }))\r\n      });\r\n      \r\n      setGameState('betting');\r\n      // Update players array - bets should be 0 at start of new round\r\n      if (data.players && Array.isArray(data.players)) {\r\n        setPlayers(data.players);\r\n      }\r\n      setDealer(data.dealer || { cards: [], score: 0 });\r\n      \r\n      // Add system message\r\n      // Only mention manual start if auto-skip is disabled\r\n      const manualStartMessage = data.isAutoSkip === false ? ' (Manual start by host)' : '';\r\n      addMessage({\r\n        content: `New round started${manualStartMessage}. Place your bets!`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('message', (data) => {\r\n      addMessage(data);\r\n    });\r\n    \r\n    socket.on('leaderboard_updated', (data) => {\r\n      setLeaderboard(data.leaderboard);\r\n    });\r\n    \r\n    socket.on('player_split', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      \r\n      addMessage({\r\n        content: `${data.players.find(p => p.id === data.playerId)?.username || 'Player'} split their hand`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // Handle player spectating event\r\n    socket.on('player_spectating', (data) => {\r\n      if (!data) return;\r\n      \r\n      // Update the player's status in the players array\r\n      setPlayers(prev => \r\n        prev.map(player => \r\n          player.id === data.playerId \r\n            ? { ...player, status: 'spectating' } \r\n            : player\r\n        )\r\n      );\r\n      \r\n      addMessage({\r\n        content: `${data.username} is now spectating the game`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      console.log(`Player ${data.username} is now spectating`);\r\n    });\r\n    \r\n    return () => {\r\n      socket.off('game_started');\r\n      socket.off('betting_ended');\r\n      socket.off('player_bet_placed');\r\n      socket.off('bet_placed');\r\n      socket.off('card_dealt');\r\n      socket.off('player_turn');\r\n      socket.off('turn_ended');\r\n      socket.off('dealer_turn');\r\n      socket.off('game_ended');\r\n      socket.off('game_reset');\r\n      socket.off('new_round');\r\n      socket.off('message');\r\n      socket.off('leaderboard_updated');\r\n      socket.off('player_split');\r\n      socket.off('player_spectating');\r\n    };\r\n  }, [socket, autoSkipNewRound, players, startNewRound]);\r\n  \r\n  // Game actions\r\n  const createRoom = (username, initialBalance = 1000) => {\r\n    if (!connected) return;\r\n    \r\n    setUsername(username);\r\n    setBalance(initialBalance);\r\n    socket.emit('create_room', { username, balance: initialBalance });\r\n  };\r\n  \r\n  const joinRoom = (roomId, username, initialBalance = 1000) => {\r\n    if (!connected) return;\r\n    \r\n    setUsername(username);\r\n    setBalance(initialBalance);\r\n    socket.emit('join_room', { roomId, username, balance: initialBalance });\r\n  };\r\n  \r\n  const startGame = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('start_game', { roomId });\r\n  };\r\n  \r\n  const placeBet = (amount) => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    console.log('ðŸ’° [placeBet] Placing bet:', { amount, roomId, socketId: socket.id });\r\n    \r\n    // Optimistically update the local player's bet immediately\r\n    setPlayers(prevPlayers => {\r\n      const updated = prevPlayers.map(p => {\r\n        if (p.id === socket.id) {\r\n          console.log('ðŸ’° [placeBet] Updating local player bet:', { username: p.username, oldBet: p.bet, newBet: amount });\r\n          return { ...p, bet: amount, balance: p.balance - amount };\r\n        }\r\n        return p;\r\n      });\r\n      console.log('ðŸ’° [placeBet] Updated players array:', updated.map(p => ({ username: p.username, bet: p.bet })));\r\n      return updated;\r\n    });\r\n    \r\n    socket.emit('place_bet', { roomId, amount });\r\n    setLastBet(amount);\r\n  };\r\n  \r\n  const hit = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('hit', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('hit', { roomId });\r\n    }\r\n  };\r\n  \r\n  const stand = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('stand', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('stand', { roomId });\r\n    }\r\n  };\r\n  \r\n  const doubleDown = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('double_down', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('double_down', { roomId });\r\n    }\r\n  };\r\n  \r\n  const split = () => {\r\n    if (!connected || !roomId || currentTurn !== socket.id) return;\r\n    \r\n    // Can't split a split hand\r\n    if (currentTurn.includes('-split')) return;\r\n    \r\n    socket.emit('split', { roomId });\r\n  };\r\n  \r\n  const surrender = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('surrender', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('surrender', { roomId });\r\n    }\r\n  };\r\n  \r\n  const sendMessage = (message) => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('send_message', { roomId, message, sender: username });\r\n  };\r\n  \r\n  const leaveRoom = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('leave_room', { roomId });\r\n    setRoomId(null);\r\n    setPlayers([]);\r\n    setDealer({ cards: [], score: 0 });\r\n    setGameState('waiting');\r\n    setCurrentTurn(null);\r\n    setMessages([]);\r\n  };\r\n  \r\n  const kickPlayer = (playerId) => {\r\n    if (!connected || !roomId) {\r\n      console.error('Cannot kick player: not connected or no roomId', { connected, roomId });\r\n      return;\r\n    }\r\n    \r\n    if (!socket) {\r\n      console.error('Cannot kick player: socket not available');\r\n      return;\r\n    }\r\n    \r\n    console.log('=== KICK ATTEMPT ===');\r\n    console.log('RoomId:', roomId);\r\n    console.log('PlayerId to kick:', playerId);\r\n    console.log('Socket ID:', socket.id);\r\n    console.log('Socket connected?', socket.connected);\r\n    console.log('Socket active?', socket.active);\r\n    \r\n    // Verify socket is connected before emitting\r\n    if (!socket.connected) {\r\n      console.error('âŒ Socket is not connected!');\r\n      return;\r\n    }\r\n    \r\n    // Test if socket can emit at all\r\n    console.log('Testing socket connection...');\r\n    socket.emit('ping', { test: 'connection' });\r\n    \r\n    // Emit the kick event\r\n    console.log('Emitting kick_player event...');\r\n    const eventData = { roomId, playerId };\r\n    console.log('Event data:', eventData);\r\n    \r\n    socket.emit('kick_player', eventData);\r\n    \r\n    console.log('Event emitted, waiting for response...');\r\n    \r\n    // Listen for error response\r\n    const errorTimeout = setTimeout(() => {\r\n      console.warn('âš ï¸ No response from server after 2 seconds');\r\n    }, 2000);\r\n    \r\n    socket.once('error', (error) => {\r\n      clearTimeout(errorTimeout);\r\n      console.error('âŒ Socket error during kick:', error);\r\n    });\r\n    \r\n    socket.once('player_kicked', (data) => {\r\n      clearTimeout(errorTimeout);\r\n      console.log('âœ… Kick successful:', data);\r\n    });\r\n  };\r\n\r\n  // Restart game - reset all players' balances to 1000\r\n  const restartGame = () => {\r\n    console.log('=== RESTART GAME CALLED ===');\r\n    console.log('Connected:', connected);\r\n    console.log('RoomId:', roomId);\r\n    console.log('Socket:', socket?.id);\r\n    console.log('Socket connected?', socket?.connected);\r\n    \r\n    if (!connected || !roomId) {\r\n      console.error('Cannot restart game: not connected or no roomId', { connected, roomId });\r\n      alert('Error: Not connected or no room ID. Please refresh the page.');\r\n      return;\r\n    }\r\n    \r\n    if (!socket) {\r\n      console.error('Cannot restart game: socket not available');\r\n      alert('Error: Socket not available. Please refresh the page.');\r\n      return;\r\n    }\r\n    \r\n    if (!socket.connected) {\r\n      console.error('Socket is not connected!');\r\n      alert('Error: Not connected to server. Please refresh the page.');\r\n      return;\r\n    }\r\n    \r\n    console.log('âœ… Emitting restart_game event for room:', roomId);\r\n    console.log('Event payload:', { roomId });\r\n    \r\n    // Emit the restart event\r\n    socket.emit('restart_game', { roomId }, (response) => {\r\n      // Callback for acknowledgment (if server supports it)\r\n      console.log('Server response:', response);\r\n    });\r\n    \r\n    // Listen for error response\r\n    socket.once('error', (error) => {\r\n      console.error('âŒ Error restarting game:', error);\r\n      if (error && error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else if (error) {\r\n        alert(`Error: ${JSON.stringify(error)}`);\r\n      }\r\n    });\r\n    \r\n    // Also listen for any response after a short delay\r\n    setTimeout(() => {\r\n      console.log('Checking if game_reset was received...');\r\n    }, 1000);\r\n  };\r\n  \r\n  // Check if it's current player's turn\r\n  const isPlayerTurn = () => {\r\n    if (!socket || !currentTurn) return false;\r\n    \r\n    // Direct match with player's socket ID\r\n    if (currentTurn === socket.id) return true;\r\n    \r\n    // Check if it's the player's split hand turn\r\n    // Split hands have IDs in the format: originalPlayerId-split\r\n    if (currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      return originalPlayerId === socket.id;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n  \r\n  // Find the current player\r\n  const getCurrentPlayer = () => {\r\n    if (!socket || !players) return null;\r\n    \r\n    // First check for the player's main hand\r\n    const player = players.find(p => p.id === socket.id);\r\n    \r\n    // If it's the player's split hand turn, return that hand instead\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const splitHand = players.find(p => p.id === currentTurn);\r\n      if (splitHand && splitHand.originalPlayer === socket.id) {\r\n        return splitHand;\r\n      }\r\n    }\r\n    \r\n    return player;\r\n  };\r\n  \r\n  // Toggle hints\r\n  const toggleHints = () => {\r\n    setHintsEnabled(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <GameContext.Provider\r\n      value={{\r\n        connected,\r\n        username,\r\n        balance,\r\n        roomId,\r\n        players,\r\n        dealer,\r\n        gameState,\r\n        currentTurn,\r\n        messages,\r\n        error,\r\n        gameHistory,\r\n        leaderboard,\r\n        lastBet,\r\n        hintsEnabled,\r\n        autoSkipNewRound,\r\n        createRoom,\r\n        joinRoom,\r\n        startGame,\r\n        placeBet,\r\n        hit,\r\n        stand,\r\n        doubleDown,\r\n        split,\r\n        surrender,\r\n        startNewRound,\r\n        sendMessage,\r\n        leaveRoom,\r\n        kickPlayer,\r\n        restartGame,\r\n        isPlayerTurn,\r\n        getCurrentPlayer,\r\n        toggleHints,\r\n        setAutoSkipNewRound,\r\n        socket\r\n      }}\r\n    >\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}